<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>パズルギャラリー</title>
    <link rel="stylesheet" href="/static/css/single_gallery.css">
</head>

<body>
    <div class="container">
        <h1>シングルプレイ</h1>
        <div style="text-align: left; margin-bottom: 10px;">
            <a href="/mode" style="text-decoration: none; color: #333; font-weight: bold;">← 戻る</a>
        </div>

        <label class="btn-upload">
            新しい画像をアップロード
            <input type="file" id="uploadInput" accept="image/*" onchange="handleUpload(event)" style="display:none">
        </label>

        <h2>つづきから遊ぶ（プレイ中）</h2>
        <div id="history-list" class="grid"></div>

        <h2>新しく始める</h2>
        <div id="new-list" class="grid"></div>
    </div>

    <!-- 難易度選択モーダル -->
    <div id="difficultyModal" class="modal">
        <div class="modal-content">
            <h3>難易度を選択</h3>
            <p>パズルの難易度を選んでください</p>
            <div style="margin-bottom: 20px;">
                <label>分割数: <span id="pieceCountDesc" style="font-weight:bold; font-size:1.2rem;">6x6</span> (約<span
                        id="pieceCountVal">36</span>ピース)</label>
                <br>
                <input type="range" id="difficultySlider" min="4" max="40" step="1" value="6"
                    oninput="const val = this.value; document.getElementById('pieceCountVal').textContent = Math.pow(val, 2); document.getElementById('pieceCountDesc').textContent = val + 'x' + val;"
                    style="width: 80%; cursor: pointer;">
                <p style="font-size:0.8rem; color:#666;">※スライダーの値は分割数(グリッド)を指定します</p>
            </div>
            <div style="display: flex; justify-content: space-around;">
                <button onclick="confirmStartGame()"
                    style="background: #ffb347; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">開始</button>
                <button onclick="closeModal()"
                    style="background: #ccc; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">キャンセル</button>
            </div>
        </div>
    </div>

    <script src="/static/js/single_gallery.js"></script>
</body>

</html>